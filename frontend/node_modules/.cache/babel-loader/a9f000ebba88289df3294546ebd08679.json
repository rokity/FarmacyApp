{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/riccardoamadio/Desktop/farmacy/src/pages/MessaggiPaziente.js\";\nimport React from \"react\";\nimport './MessaggiPaziente.css';\nconst testToken = \"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/dfaf1e22-2d33-45c9-b4f8-31f634621d24/token\";\nconst instanceLocator = \"v1:us1:dfaf1e22-2d33-45c9-b4f8-31f634621d24\";\nconst roomId = 9806194;\nconst username = 'perborgen';\n\nclass MessaggiPaziente extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      messages: []\n    };\n    this.sendMessage = this.sendMessage.bind(this);\n  }\n\n  componentDidMount() {\n    const chatManager = new Chatkit.ChatManager({\n      instanceLocator: instanceLocator,\n      userId: 'janedoe',\n      tokenProvider: new Chatkit.TokenProvider({\n        url: testToken\n      })\n    });\n    chatManager.connect().then(currentUser => {\n      this.currentUser = currentUser;\n      this.currentUser.subscribeToRoom({\n        roomId: roomId,\n        hooks: {\n          onNewMessage: message => {\n            this.setState({\n              messages: [...this.state.messages, message]\n            });\n          }\n        }\n      });\n    });\n  }\n\n  sendMessage(text) {\n    this.currentUser.sendMessage({\n      text,\n      roomId: roomId\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Title, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MessageList, {\n        roomId: this.state.roomId,\n        messages: this.state.messages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SendMessageForm, {\n        sendMessage: this.sendMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass MessageList extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"message-list\",\n      children: this.props.messages.map((message, index) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"message\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: message.senderId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)]\n        }, message.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass SendMessageForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      message: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      message: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.props.sendMessage(this.state.message);\n    this.setState({\n      message: ''\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"send-message-form\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: this.handleChange,\n        value: this.state.message,\n        placeholder: \"Type your message and hit ENTER\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction Title() {\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"title\",\n    children: \"My awesome chat app\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 10\n  }, this);\n}\n\n_c = Title;\nexport default MessaggiPaziente;\n\nvar _c;\n\n$RefreshReg$(_c, \"Title\");","map":{"version":3,"sources":["/Users/riccardoamadio/Desktop/farmacy/src/pages/MessaggiPaziente.js"],"names":["React","testToken","instanceLocator","roomId","username","MessaggiPaziente","Component","constructor","state","messages","sendMessage","bind","componentDidMount","chatManager","Chatkit","ChatManager","userId","tokenProvider","TokenProvider","url","connect","then","currentUser","subscribeToRoom","hooks","onNewMessage","message","setState","text","render","MessageList","props","map","index","senderId","id","SendMessageForm","handleChange","handleSubmit","e","target","value","preventDefault","Title"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport './MessaggiPaziente.css'\nconst testToken = \"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/dfaf1e22-2d33-45c9-b4f8-31f634621d24/token\"\nconst instanceLocator = \"v1:us1:dfaf1e22-2d33-45c9-b4f8-31f634621d24\"\nconst roomId = 9806194\nconst username = 'perborgen'\n\n\nclass MessaggiPaziente extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      messages: []\n    }\n    this.sendMessage = this.sendMessage.bind(this)\n  }\n\n  componentDidMount() {\n    const chatManager = new Chatkit.ChatManager({\n      instanceLocator: instanceLocator,\n      userId: 'janedoe',\n      tokenProvider: new Chatkit.TokenProvider({\n        url: testToken\n      })\n    })\n\n    chatManager.connect()\n      .then(currentUser => {\n        this.currentUser = currentUser\n        this.currentUser.subscribeToRoom({\n          roomId: roomId,\n          hooks: {\n            onNewMessage: message => {\n\n              this.setState({\n                messages: [...this.state.messages, message]\n              })\n            }\n          }\n        })\n      })\n  }\n\n  sendMessage(text) {\n    this.currentUser.sendMessage({\n      text,\n      roomId: roomId\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <Title />\n        <MessageList\n          roomId={this.state.roomId}\n          messages={this.state.messages} />\n        <SendMessageForm\n          sendMessage={this.sendMessage} />\n      </div>\n    );\n  }\n}\n\nclass MessageList extends React.Component {\n  render() {\n    return (\n      <ul className=\"message-list\">\n        {this.props.messages.map((message, index) => {\n          return (\n            <li key={message.id} className=\"message\">\n              <div>{message.senderId}</div>\n              <div>{message.text}</div>\n            </li>\n          )\n        })}\n      </ul>\n    )\n  }\n}\n\nclass SendMessageForm extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      message: ''\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleChange(e) {\n    this.setState({\n      message: e.target.value\n    })\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    this.props.sendMessage(this.state.message)\n    this.setState({\n      message: ''\n    })\n  }\n\n  render() {\n    return (\n      <form\n        onSubmit={this.handleSubmit}\n        className=\"send-message-form\">\n        <input\n          onChange={this.handleChange}\n          value={this.state.message}\n          placeholder=\"Type your message and hit ENTER\"\n          type=\"text\" />\n      </form>\n    )\n  }\n}\n\nfunction Title() {\n  return <p className=\"title\">My awesome chat app</p>\n}\n\nexport default MessaggiPaziente;"]},"metadata":{},"sourceType":"module"}